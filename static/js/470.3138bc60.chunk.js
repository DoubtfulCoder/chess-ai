!function(){"use strict";var r={470:function(r,n,e){var t=e(762),o=e(388),a=(e(791),e(254),{p:{p:105,n:104,b:103,r:102,q:101,k:100},n:{p:205,n:204,b:203,r:202,q:201,k:200},b:{p:305,n:304,b:303,r:302,q:301,k:300},r:{p:405,n:404,b:403,r:402,q:401,k:400},q:{p:505,n:504,b:503,r:502,q:501,k:500},k:{p:605,n:604,b:603,r:602,q:601,k:600}}),i={p:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[.3,.2,.2,.3,.3,.1,.3,.3],[.2,.1,.4,.5,.5,.1,.1,.1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],n:[[0,-.1,0,0,0,0,-.1,0],[0,0,0,.2,.2,0,0,0],[-.1,.2,.4,0,0,.4,.2,-.1],[0,0,0,.3,.3,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],b:[[0,0,-.1,0,0,-.1,0,0],[0,.3,0,.1,.1,0,.3,0],[0,0,0,.2,.2,0,0,0],[0,0,.3,0,0,.3,0,0],[0,.3,0,0,0,0,.3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],r:[[0,0,.2,.3,.3,.2,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],q:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],k:[[0,0,0,-.5,0,0,0,0],[0,0,0,-.5,-.5,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},u={p:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[.2,.2,.2,.2,.2,.2,.2,.2],[.3,.3,.3,.5,.5,.3,.3,.3],[.4,.4,.4,.4,.4,.4,.4,.4],[.5,.5,.5,.5,.5,.5,.5,.5],[.7,.7,.7,.7,.7,.7,.7,.7],[0,0,0,0,0,0,0,0]],n:[[0,-.1,0,0,0,0,-.1,0],[0,0,0,.1,.1,0,0,0],[-.1,.1,.1,0,0,.1,.1,-.1],[0,0,0,.1,.1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],b:[[0,0,-.1,0,0,-.1,0,0],[0,.1,0,.1,.1,0,.1,0],[0,0,0,.1,.1,0,0,0],[0,0,.1,0,0,.1,0,0],[0,.1,0,0,0,0,.1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],r:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],q:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[.1,.1,.1,.1,.1,.1,.1,.1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],k:[[0,0,0,0,0,0,0,0],[0,0,0,.2,.2,.2,0,0],[0,.2,.2,.2,.2,0,0,0],[0,.2,.2,.2,.2,.2,0,0],[0,0,.2,.2,.2,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]};function c(r){return r.replace(/[+#]?[?!]*$/,"")}function f(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",e=arguments.length>2?arguments[2]:void 0,t=0;if(r.includes("O-O"))return.7;if(r.includes("="))return 9;r.includes("+")&&e>20&&(t+=-.3),r.includes("x")&&(t+=.3);var o=(r=c(r))[0];"B"!==o&&"N"!==o&&"R"!==o&&"Q"!==o&&"K"!==o&&(o="p"),o=o.toLowerCase();var a,f,s=r.slice(r.length-2,r.length);return"white"===n?(a=s.charCodeAt(0)-97,f=s.charCodeAt(1)-49):(a=s.charCodeAt(0)-97,f=7-(s.charCodeAt(1)-49)),e<=15?(console.log("endgame!"),u[o][a][f]+t):i[o][f][a]+t}function s(r,n){if(p(n))return 0;try{return function(r,n){var e=0;(n=c(n)).includes("=")&&(e+=l[n[n.length-1].toLowerCase()],n=n.slice(0,n.length-2));var t=n[0];"B"!==t&&"N"!==t&&"R"!==t&&"Q"!==t&&"K"!==t&&(t="p"),t=t.toLowerCase();var o=n.slice(n.length-2,n.length),i=r.get(o).type.toLowerCase();return e+a[i][t]}(r,n)}catch(e){return 0}}function v(r,n){for(var e=[],t=0;t<n.length;t++)e[t]=s(r,n[t]);for(var o=0;o<n.length;o++)for(var a=o+1;a<n.length;a++)if(e[o]<e[a]){var i=e[o];e[o]=e[a],e[a]=i;var u=n[o];n[o]=n[a],n[a]=u}return n}e(184);console.log("Number of threads on your device: ",navigator.hardwareConcurrency);navigator.hardwareConcurrency;var l={p:1,n:3,b:3,r:5,q:9};function h(r,n){return r.split(n).length-1}function p(r){return!r.includes("x")}onmessage=function(r){var n,e=performance.now(),a=r.data,i=a.depth,u=a.quiescenceDepth,c=a.posMoves,s=a.gameFEN,I=a.alpha,b=new o.qQ(s),d=Number.NEGATIVE_INFINITY;console.log("posMoves",c);var g,N=(0,t.Z)(c);try{for(N.s();!(g=N.n()).done;){var m=g.value;b.move(m);var k=w(i-1,!1,"black",f(m),m,I);k>d&&(d=k,n=m),b.undo()}}catch(E){N.e(E)}finally{N.f()}var T=performance.now();function w(r,n,e,t,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY;if(0===r){if(p(o))return O(e)+t;var c=y(u,n,e,t,o,a,i);return c}var f=b.moves();f=v(b,f);for(var s=n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,l=0;l<f.length;l++){var h=f[l];b.move(h);var I=w(r-1,!n,e,t,h,a,i);if(n?(I>s&&(s=I),a=Math.max(a,I)):(I<s&&(s=I),i=Math.min(i,I)),b.undo(),i<=a)break}return s}function y(r,n,e,t,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,u=O(e)+t;if(u>=i)return i;if(p(o)||0===r)return O(e)+t;var c=b.moves();c=v(b,c);for(var f=n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,s=0;s<c.length;s++){var l=c[s];b.move(l);var h=y(r-1,!n,e,t,l,a,i);if(n?(h>f&&(f=h),a=Math.max(a,h)):(h<f&&(f=h),i=Math.min(i,h)),b.undo(),i<=a)break}return f}function O(r){var n=b.fen().split(" ")[0],e=0;return Object.keys(l).forEach((function(r){e+=h(n,r.toUpperCase())*l[r],e-=h(n,r)*l[r]})),"white"===r?e:-e}console.log("Call to minmax took ".concat((T-e)/1e3," seconds")),postMessage([d,n])}}},n={};function e(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,e),a.exports}e.m=r,e.x=function(){var r=e.O(void 0,[408],(function(){return e(470)}));return r=e.O(r)},function(){var r=[];e.O=function(n,t,o,a){if(!t){var i=1/0;for(s=0;s<r.length;s++){t=r[s][0],o=r[s][1],a=r[s][2];for(var u=!0,c=0;c<t.length;c++)(!1&a||i>=a)&&Object.keys(e.O).every((function(r){return e.O[r](t[c])}))?t.splice(c--,1):(u=!1,a<i&&(i=a));if(u){r.splice(s--,1);var f=o();void 0!==f&&(n=f)}}return n}a=a||0;for(var s=r.length;s>0&&r[s-1][2]>a;s--)r[s]=r[s-1];r[s]=[t,o,a]}}(),e.d=function(r,n){for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},e.f={},e.e=function(r){return Promise.all(Object.keys(e.f).reduce((function(n,t){return e.f[t](r,n),n}),[]))},e.u=function(r){return"static/js/"+r+"."+{408:"d0f93b06",470:"3138bc60"}[r]+".chunk.js"},e.miniCssF=function(r){},e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"===typeof window)return window}}(),e.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},e.p="/chess-ai/",function(){e.b=self.location+"/../../../";var r={470:1};e.f.i=function(n,t){r[n]||importScripts(e.p+e.u(n))};var n=self.webpackChunkchess_ai=self.webpackChunkchess_ai||[],t=n.push.bind(n);n.push=function(n){var o=n[0],a=n[1],i=n[2];for(var u in a)e.o(a,u)&&(e.m[u]=a[u]);for(i&&i(e);o.length;)r[o.pop()]=1;t(n)}}(),function(){var r=e.x;e.x=function(){return e.e(408).then(r)}}();e.x()}();
//# sourceMappingURL=470.3138bc60.chunk.js.map